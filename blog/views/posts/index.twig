{% extends 'layout.twig' %}

{% block body %}
  <div class="container-fluid">
  <a href="/posts/auth">
    Login with GitHub
  </a>
  </div>
  <h1>{{ title }}</h1>
  <p>{{ flashMessage }}</p>
  {% for post in posts %}
    <h2>{{ post.title }}</h2>
    <p>{{ post.summary }}</p>
    <p>{{ post.image }}</p>
    <a href="/posts/author/{{ post.author }}">{{ post.author }}</a>
    <small>
        <a href="/posts/view/{{ post.id }}">Leer más</a>
        &nbsp;|&nbsp;
        <a href="/posts/update/{{ post.id }}">Editar</a>
        &nbsp;|&nbsp;
        <a href="/posts/delete/{{ post.id }}" onclick="return confirm('¿Está seguro?');">Borrar</a>
    </small>
    <hr />
  {% endfor %}
  <a href="/posts/create">¡Añadir una nueva publicación!</a>
{% endblock %}

{% block javascripts %}
    <script>
      //var myDiv = $('#summary');
      //myDiv.text(myDiv.text().substring(0,300) + '<a href="#">Read more</a>')
      $(document).ready(function(){
            console.log("Script working properly");
        });
    </script>
{% endblock %}